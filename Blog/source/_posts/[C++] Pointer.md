---
title: C++指针笔记
date: 2021-04-28 17:21:02
tags: 
- C++
- Pointer
---



C++指针学习笔记，所有关于C++指针的笔记在此。

<!--more-->



[[_TOC_]]

# 指针究竟是什么

> 指针是表示地址的数字

数据存储在内存中，64位的计算机，其内存地址从0~2^64递增，根据内存地址，就可以直接读取出内存里的数据。

而指针的值就是内存地址，所以我们可以直接通过指针，取出对应内存里的数据。

# 指针的类型

```c++
int a=10;
double b=20;
int *p=&a;
double *q=&b;
```

在C++里，我们可以声明不同类型的指针。但是上面我们说到了，指针的本质其实就是一个数字，指向内存地址，以64位计算机为例，所有指针都是宽度为8B的二进制数。

指针本质上都是数字，不同类型的指针没有区别。之所以指定指针为int类型，只是为了标记一下，该指针指向的内存中，存储的是int类型的数据而已，方便我们使用指针。



# 指针与const

```c++
const int *a; 
int const *b;
int const *c;
const int const *d;
```

- a和b都是指向`int *`类型数据的指针，它指向的数据，其值不可更改，但是可以改变a所指向的数据。

  ```c++
  *a=10; // 不合法，不可以改变指针a所指向的数据的值
  const int aa=0;
  a=&aa; // 合法，可以改变指针a所指向的数据
  ```

- c是指向`int`型数据的指针，它指向的数据的值可以改变，但是它不可以指向别的数据

  ```c++
  *c=10; // 合法，可以改变c所指向的数据的值
  int cc=10;
  c=&cc;// 不合法，不可以将c指向别的数据
  ```

- d是以上二者数据的结合。它指向的数据的值不可改变，同时d也不可指向别的数据

  ```c++
  *d=10; // 不合法，不可以改变d所指向的数据的值
  const int dd=10;
  d=&dd; // 不合法，不可以将d指向别的数据
  ```



# 浅复制&深复制

浅复制：

- 类的成员中有指针
- 没有在类的拷贝构造函数中，说明copy时要为该指针申请内存
- 那么该类的对象的复制操作，将会导致两个类共用同一个指针

```c++
```





深复制：

- 类的成员中有指针
- 在类的拷贝构造函数中，说明copy时要为该指针申请内存
- 那么该类的对象的复制操作，两个类会各自拥有各自的指针